!function(){"use strict";angular.module("polyAppSample",["ui.router","ui.bootstrap","dndLists","ngSanitize","xeditable","toastr","home","common"]).run(["editableOptions",function(t){t.theme="bs3"}])}(),angular.module("polyAppSample").run(["$templateCache",function(t){t.put("home/right-aside.tpl.html",'<div class="modal-header">\n  <h3 class="modal-title">Manage Page Objects</h3>\n</div>\n<div class="modal-body form-inline">\n  <uib-accordion close-others="false">\n    <uib-accordion-group ng-repeat="pageObject in rightAside.pageObjects" ng-init="edit=\'\'" heading="{{pageObject.name}}">\n      <span editable-text="pageObject.name" e-form="edit">{{pageObject.name}}</span> <a href=""><span class="glyphicon glyphicon-edit" ng-click="edit.$show()" ng-show="pageObject.name.toLowerCase()!=\'global\'" ng-hide="pageObject.name.toLowerCase()==\'global\' || edit.$visible" ></span></a>\n\n      <a href="" ng-click="rightAside.pageObjects.splice($index,1)" class="pull-right" ng-show="pageObject.name.toLowerCase()!=\'global\'">Delete page</a>\n      <table class="table table-bordered">\n        <thead>\n          <tr>\n            <th><a ng-click="rightAside.addNewObject($index)" href="">Add New</a></th>\n            <th>Name</th>\n            <th>Type</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="object in pageObject.objects">\n            <td><a href="" ng-click="pageObject.objects.splice($index,1)"><span\n\t\t\t\t\tclass="glyphicon glyphicon-remove-circle text-danger"></span></a></td>\n            <td><a href="#" editable-text="object.name">{{ object.name || \'empty\' }}</a></td>\n            <td><a href="" editable-select="object.type" e-ng-options="type for type in rightAside.types"> {{ object.type\n\t\t\t\t\t}} </a></td>\n            <td><a href="#" editable-text="object.value">{{ object.value || \'empty\' }}</a></td>\n          </tr>\n        </tbody>\n      </table>\n    </uib-accordion-group>\n  </uib-accordion>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="rightAside.addPage()">Add New Page</button>\n</div>\n')}]),angular.module("polyAppSample").run(["$templateCache",function(t){t.put("home/home.tpl.html",'<div class=container-fluid>\n\t<nav class="navbar navbar-default">\n\t\t<div class="container-fluid">\n\n\t\t\t<a\n\t\t\t\tclass="navbar-brand"\n\t\t\t\thref="#">Cucumber UI</a>\n\t\t\t<form\n\t\t\t\tclass="navbar-form navbar-right"\n\t\t\t\trole="search">\n\t\t\t\t\n\t\t\t\t<button\n\t\t\t\t\tclass="btn btn-primary"\n\t\t\t\t\tng-click="home.showConf()">Page Objects</button>\n\t\t\t</form>\n\n\t\t</div>\n\t</nav>\n\n\t<div class=row>\n\n\t\t<div class="col-sm-3">\n\t\t\t<!-- Feature list panel -->\n\t\t\t<div class="panel panel-default">\n\t\t\t\t<div class="panel-heading">\n\t\t\t\t\tFeature list <a ng-click="home.addNewFeature()"><span\n\t\t\t\t\t\tclass="glyphicon glyphicon-plus pull-right"\n\t\t\t\t\t\taria-hidden="true"></span></a>\n\t\t\t\t</div>\n\t\t\t\t<div class="list-group">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=""\n\t\t\t\t\t\tclass="list-group-item"\n\t\t\t\t\t\tng-class="{\'active\':feature==home.feature}"\n\t\t\t\t\t\tng-repeat="feature in home.features"\n\t\t\t\t\t\tng-click="home.feature=feature">{{feature.name}}\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\tclass="close"\n\t\t\t\t\t\t\tng-click="home.deleteFeature(feature)"\n\t\t\t\t\t\t\taria-label="Close">\n\t\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="panel panel-default">\n\t\t\t\t<div class="panel-heading">Scenarios <a ng-click="home.addNewScenario()"><span\n\t\t\t\t\t\tclass="glyphicon glyphicon-plus pull-right"\n\t\t\t\t\t\taria-hidden="true"></span></a></div>\n\t\t\t\t<ul class="list-group" >\n\t\t\t\t\t<li class="list-group-item" ng-init="home.scenario=home.feature.scenarios[0]" ng-class="{\'active\':home.scenario==scenario}" ng-click="home.scenario=scenario" ng-repeat="scenario in home.feature.scenarios">{{scenario.name}}</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="col-sm-9">\n\t\t\t<!-- Feature name and description panel -->\n\t\t\t<div class="panel panel-default">\n\t\t\t\t<div class="panel-heading">\n\t\t\t\t\t<span>{{ home.feature.name || \'empty\' }}</span> <a\n\t\t\t\t\t\thref=""\n\t\t\t\t\t\tng-click="home.runFeature(home.feature.name)"><span\n\t\t\t\t\t\tclass="glyphicon glyphicon-play-circle"\n\t\t\t\t\t\taria-hidden=true></span></a>\n\t\t\t\t\t\t\n\t\t\t\t\t\t <a\n\t\t\t\t\t\thref=""\n\t\t\t\t\t\tng-click="home.upload(home.feature)"><span\n\t\t\t\t\t\tclass="glyphicon glyphicon-floppy-disk pull-right"\n\t\t\t\t\t\taria-hidden=true></span></a>\n\t\t\t\t</div>\n\t\t\t\t<div class="panel-body">\n\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=""\n\t\t\t\t\t\teditable-textarea="home.feature.description"\n\t\t\t\t\t\te-rows="7"\n\t\t\t\t\t\te-cols="100"> {{ home.feature.description || \'no description\'\n\t\t\t\t\t\t}} </a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-sm-6">\n\t\t\t\t\t<!-- scenario panel -->\n\n\t\t\t\t\t<div class="panel panel-default">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass="panel-heading form-inline"\n\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=""\n\t\t\t\t\t\t\t\teditable-text="home.scenario.name"> {{ home.scenario.name || \'no\n\t\t\t\t\t\t\t\tdescription\' }}</a>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t<a\n\t\t\t\t\t\thref=""\n\t\t\t\t\t\tng-click="home.runScenario(home.scenario.name)"><span\n\t\t\t\t\t\tclass="glyphicon glyphicon-play-circle"\n\t\t\t\t\t\taria-hidden=true></span></a>\n\t\t\t\t\t\t    <a\n\t\t\t\t\t\t\t\thref=""\n\t\t\t\t\t\t\t\tclass="text-danger pull-right"\n\t\t\t\t\t\t\t\tng-click="home.deleteScenario(home.scenario)">Delete</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdnd-list="home.scenario.steps"\n\t\t\t\t\t\t\tclass="list-group">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tng-repeat="step in home.scenario.steps"\n\t\t\t\t\t\t\t\tclass="list-group-item"\n\t\t\t\t\t\t\t\tdnd-draggable="step"\n\t\t\t\t\t\t\t\tdnd-moved="home.scenario.steps.splice($index, 1)"\n\t\t\t\t\t\t\t\tdnd-effect-allowed="move">{{step.type}}<a\n\t\t\t\t\t\t\t\teditable-text="step.step"> {{step.step}}</a>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\t\tclass="close"\n\t\t\t\t\t\t\t\t\tng-click="home.scenario.steps.splice($index, 1)"\n\t\t\t\t\t\t\t\t\taria-label="Close">\n\t\t\t\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t\t\t\t</button></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t\t<div class="col-sm-6">\n\t\t\t\t<!-- available steps panel -->\n\t\t\t\t\t<div class="panel panel-default" id="availableSteps">\n\t\t\t\t\t\t<div class=panel-heading>Available Steps</div>\n\t\t\t\t\t\t<div class="panel-body">\n\t\t\t\t\t\t\t<input type="text" placeholder="Search Steps" ng-model="searchText.step" class="form-control" />\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\tclass="close input"\n\t\t\t\t\t\t\tng-click="searchText.step=\'\'"\n\t\t\t\t\t\t\taria-label="Close">\n\t\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul class="list-group">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tng-repeat="step in home.steps|filter:searchText"\n\t\t\t\t\t\t\t\tclass="list-group-item"\n\t\t\t\t\t\t\t\tdnd-draggable="step"\n\t\t\t\t\t\t\t\tdnd-effect-allowed="move"><span\n\t\t\t\t\t\t\t\tclass="label pull-right"\n\t\t\t\t\t\t\t\tng-class="{\t\'label-primary\':step.fileName.length%3==0,\n\t\t\t\t\t\t\t\t\t\t\t\'label-info\':step.fileName.length%3==1,\n\t\t\t\t\t\t\t\t\t\t\t\'label-success\':step.fileName.length%3==2}">{{step.fileName}}</span> <span\n\t\t\t\t\t\t\t\tclass="label label-default">{{step.type}}</span> {{step.step}}</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n\t<div\n\t\tclass="panel panel-default"\n\t\tid="logs"\n\t\tng-show="home.message">\n\t\t<div class="panel-heading">\n\t\t\tRunning feature <a\n\t\t\t\thref="/e2e"\n\t\t\t\ttarget="blank"\n\t\t\t\tng-show="home.showReport">Show Report</a>\n\t\t</div>\n\t\t<div class="panel-body">\n\t\t\t<pre>{{home.message}}</pre>\n\t\t</div>\n\t</div>\n</div>\n\n\n\n<script\n\ttype="text/ng-template"\n\tid="myModalContent.html">\n        <div class="modal-header">\n            <h3 class="modal-title">Create a New Feature file</h3>\n        </div>\n        <div class="modal-body form-inline">\n            Feature Name: <input type="text" class="form-control" ng-model=feature.name>\n        </div>\n        <div class="modal-footer">\n            <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>\n            <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>\n        </div>\n    </script>')}]),angular.module("polyAppSample").run(["$templateCache",function(t){t.put("index.html","<!DOCTYPE html>\n<html lang='en' data-ng-app='polyAppSample'>\n\n<head>\n  <title>Cucumber UI</title>\n  <meta name='viewport' content='width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes'>\n  <!-- inject:head:js -->\n  <!-- endinject -->\n  <!-- inject:html -->\n  <!-- endinject -->\n  <!-- bower:css -->\n  <!-- endbower -->\n  <!-- inject:css -->\n  <!-- endinject -->\n</head>\n\n<body>\n\n  <div class='container-fluid'>\n    <div data-ui-view></div>\n  </div>\n  <script src='/socket.io/socket.io.js'></script>\n\n  <!-- bower:js -->\n  <!-- endbower -->\n  <!-- inject:js -->\n  <!-- endinject -->\n</body>\n\n</html>\n")}]),function(){"use strict";angular.module("common.directives",["ui.router"])}(),function(){"use strict";angular.module("home",["ui.router"])}(),function(){"use strict";function t(t){var e={},n=io.connect();return e.on=function(e,a){n.on(e,function(){var e=arguments;t.$apply(function(){a.apply(n,e)})})},e.emit=function(e,a,s){n.emit(e,a,function(){var e=arguments;t.$apply(function(){s&&s.apply(n,e)})})},e}t.$inject=["$rootScope"],angular.module("home").factory("Socket",t)}(),function(){"use strict";function t(t,e,n){var a=this;a.ctrlName="RightAsideCtrl",a.featureName=n.replace(" ","_").toLowerCase(),a.types=["css","id","binding","model","name","linkText","partialLinkText","tagName","xpath"],t.get("steps/objects?feature="+a.featureName).then(function(t){a.pageObjects=t.data},function(){console.log(1),a.pageObjects=[]}),a.addPage=function(){var t="New Page";a.pageObjects.push({name:t,objects:[]})},a.addNewObject=function(t){a.pageObjects[t].objects.push({type:"css"})},a.saveObjects=function(){t.post("steps/objects?feature="+a.featureName,{objects:a.pageObjects}).then(function(t){})},e.$on("modal.closing",function(){a.saveObjects()})}t.$inject=["$http","$scope","featureName"],angular.module("home").controller("RightAsideCtrl",t)}(),function(){"use strict";function t(t,e){var n=this;n.ctrlName="ModalInstanceCtrl",t.ok=function(){e.close(t.feature.name)},t.cancel=function(){e.dismiss("cancel")}}t.$inject=["$scope","$uibModalInstance"],angular.module("home").controller("ModalInstanceCtrl",t)}(),function(){"use strict";function t(t){t.state("home",{url:"/home",templateUrl:"home/home.tpl.html",controller:"HomeCtrl",controllerAs:"home"})}t.$inject=["$stateProvider"],angular.module("home").config(t)}(),function(){"use strict";function t(t,e,n,a,s,i){var o=this;o.ctrlName="HomeCtrl",o.showLogPanel=!1,this.toggleModal=function(){this.showModal=!this.showModal},o.addNewScenario=function(){var t={name:"Enter scenario name",steps:[]};o.feature.scenarios.push(t),o.scenarioSelected=t,o.upload(o.feature)},o.config={browser:"chrome"},o.runFeature=function(e){o.upload(o.feature).then(function(){o.message="",o.showReport=!1,o.showLogsPanel=!0;var n=o.config.browser;t.get("/steps/run?browser="+n+"&feature="+e)})},o.runScenario=function(e){o.upload(o.feature).then(function(){o.message="",o.showReport=!1,o.showLogsPanel=!0;var n=o.config.browser;t.get("/steps/run?browser="+n+"&feature="+o.feature.name+"&scenarioName="+e)})},a.on("message",function(t){o.message=o.message+t.message}),a.on("exit",function(){o.showReport=!0}),o.addNewFeature=function(){var t=i.open({animation:!0,templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:"md"});t.result.then(function(t){o.features[t]={name:t,description:"Feature Description",scenarios:[{name:"Scenarion Name",steps:[]}]},o.feature=o.features[t],o.upload(o.feature)},function(){e.info("Modal dismissed at: "+new Date)})},o.showConf=function(){i.open({templateUrl:"home/right-aside.tpl.html",controllerAs:"rightAside",controller:"RightAsideCtrl",placement:"right",size:"md",resolve:{featureName:function(){return o.feature.name}}})},t.get("/steps").then(function(t){o.steps=t.data.steps,o.features=t.data.features,o.feature=o.features[Object.keys(o.features)[0]]}),o.addMoreScenario=function(){var t={name:"Enter Scenario Name",steps:[]};o.scenarioSelected=t,o.upload(o.feature)},o.upload=function(e){return t.post("/steps/export",{feature:e}).then(function(){s.success("Feature saved!")})},o.deleteFeature=function(e){console.log(e),t["delete"]("/steps/export",{params:{name:e.name}}).then(function(){delete o.features[e.name],o.feature.name===e.name&&(o.feature=o.features[Object.keys(o.features)[0]])})},o.deleteScenario=function(t){var e=o.feature.scenarios.indexOf(t);o.feature.scenarios.splice(e,1),o.upload(o.feature)}}t.$inject=["$http","$log","$window","Socket","toastr","$uibModal"],angular.module("home").controller("HomeCtrl",t)}(),function(){"use strict";function t(){var t=this;t.get=function(){return"Feature"}}angular.module("home").service("Feature",t)}(),function(){"use strict";angular.module("common",["ui.router","common.directives"])}(),function(){"use strict";function t(t){t.otherwise("/home")}t.$inject=["$urlRouterProvider"],angular.module("polyAppSample").config(t)}();
//# sourceMappingURL=app-8bac5ed8c0.js.map
